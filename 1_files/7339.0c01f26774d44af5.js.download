"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[7339],{87339:(e,t,s)=>{s.d(t,{J:()=>T});var r=s(65723),i=s(89308),o=s(29966),n=s(20167),a=s(22155),l=s(22104),F=s(29027),d=s(723),c=s(36820),f=s(3884),h=s(44672),p=s(39024),u=s(59331),m=s(6819),b=s(69805),g=s(70353);let j=({notifier$:e,footerRefOption$:t})=>s=>{let r=(0,o.Fs)(s,g.Tj(([,,e])=>e),g.F()),i=(0,o.Fs)(s,g.Tj(([,,,e])=>e??2e3),g.F()),n=(0,o.Fs)(s,g.Tj(([,e])=>e.page),g.F()),a=(0,o.Fs)(g.zV([t,r,i,n]),g.nx(([e,t,s])=>(0,o.Fs)(e,d.YW((0,o.dY)(g.wg),e=>(0,o.Fs)(c.sH(e,{root:void 0!==t?t.current:null,rootMargin:c.x({top:f.Sj,right:f.Sj,bottom:f.qy(s),left:f.Sj})}),g.pb(c.uV)))))),l=(0,o.Fs)(s,g.Tj(([e])=>e),g.F());return g.h1((0,o.Fs)(g.zV([a,l]),g.pb(([e,t])=>!1===t)),e)},M=e=>t=>{let s=(0,o.Fs)(t,g.XM(e),g.dM(([,e])=>e.page),g.Or(([e])=>!1===e));return(0,o.Fs)(s,g.EY(t,(e,t)=>t),g.ZZ(([,e,t,s])=>(0,o.Fs)(t(e),b.Bb(s),m.L5(3))))},S=e=>{let t=(0,p.h6)(),s=(0,u.J)(j({notifier$:e.notifier$,footerRefOption$:e.footerRefOption$}),[e.disableInfiniteScroll,e.feedDataFetcherParams,e.intersectionObserverRoot,e.intersectionObserverRootMarginBottom]),r=(0,u.J)(M(s),[e.hasFetchedAllPages,e.feedDataFetcherParams,e.feedDataFetcher,t]);(0,h.so)(r)},v=({total:e,perPage:t})=>Math.ceil(e/t),x=e=>e.lastPageFetched>=v(e),O=({lastPageFetched:e,perPage:t})=>({page:e+1,perPage:t}),P=({feedState:e,feedItems:t,renderItems:s,renderLoadingFooter:n,disableInfiniteScroll:d,...c})=>{let[f,h]=(0,i.z)(e=>(0,o.Fs)(e,F.rT)),p=(0,a.useMemo)(()=>O(e),[e]),u=(0,a.useMemo)(()=>x(e),[e]);return S({...c,disableInfiniteScroll:d,feedDataFetcherParams:p,hasFetchedAllPages:u,footerRefOption$:h}),(0,r.jsxs)("div",{children:[s({items:t,total:e.total}),(0,r.jsx)("div",{"data-testid":l.n,ref:f}),!1===u&&!1===d&&(e.isLoading??!0)&&n()]})},T=({feedStateOption:e,feedItemsOption:t,renderEmpty:s,renderPlaceholder:i,renderFooter:a,disableInfiniteScroll:l,...F})=>(0,o.Fs)(d.CO(e,t),d.YW(i,([e,t])=>{let i=x(e),d=i||l||n.VP(t);return(0,r.jsxs)(r.Fragment,{children:[(0,o.Fs)(t,n.YW({onEmpty:s,onNonEmpty:t=>(0,r.jsx)(P,{...F,feedState:e,feedItems:t,disableInfiniteScroll:l})})),d&&a({isEmpty:n.VP(t),hasFetchedAllPages:i,isInfiniteScrollDisabled:l})]})}))}}]);